syntax = "proto3";

package metalstack.infra.v2;

import "metalstack/api/v2/common.proto";

// BMCService serves bmc related functions
service BMCService {
  // UpdateBMCInfo
  rpc UpdateBMCInfo(UpdateBMCInfoRequest) returns (UpdateBMCInfoResponse) {
    option (metalstack.api.v2.infra_roles) = INFRA_ROLE_EDITOR;
    option (metalstack.api.v2.auditing) = AUDITING_EXCLUDED;
  }
  // WaitForMachineEvent is called by the metal-bmc and is returned with a bmc command to execute.
  rpc WaitForMachineEvent(WaitForMachineEventRequest) returns (stream WaitForMachineEventResponse) {
    option (metalstack.api.v2.infra_roles) = INFRA_ROLE_EDITOR;
    option (metalstack.api.v2.auditing) = AUDITING_EXCLUDED;
  }
}

// UpdateBMCInfoRequest
message UpdateBMCInfoRequest {}

// UpdateBMCInfoResponse
message UpdateBMCInfoResponse {}

// WaitForMachineEventRequest
message WaitForMachineEventRequest {}

// WaitForMachineEventResponse
message WaitForMachineEventResponse {}
