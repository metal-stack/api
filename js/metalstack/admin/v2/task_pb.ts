// @generated by protoc-gen-es v2.11.0 with parameter "target=ts"
// @generated from file metalstack/admin/v2/task.proto (package metalstack.admin.v2, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { enumDesc, fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { Duration, Timestamp } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_duration, file_google_protobuf_timestamp } from "@bufbuild/protobuf/wkt";
import { file_metalstack_api_v2_common } from "../../api/v2/common_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file metalstack/admin/v2/task.proto.
 */
export const file_metalstack_admin_v2_task: GenFile = /*@__PURE__*/
  fileDesc("Ch5tZXRhbHN0YWNrL2FkbWluL3YyL3Rhc2sucHJvdG8SE21ldGFsc3RhY2suYWRtaW4udjIiNwoVVGFza1NlcnZpY2VHZXRSZXF1ZXN0Eg8KB3Rhc2tfaWQYASABKAkSDQoFcXVldWUYAiABKAkiRQoWVGFza1NlcnZpY2VHZXRSZXNwb25zZRIrCgR0YXNrGAEgASgLMh0ubWV0YWxzdGFjay5hZG1pbi52Mi5UYXNrSW5mbyI6ChhUYXNrU2VydmljZURlbGV0ZVJlcXVlc3QSDwoHdGFza19pZBgBIAEoCRINCgVxdWV1ZRgCIAEoCSIbChlUYXNrU2VydmljZURlbGV0ZVJlc3BvbnNlIhoKGFRhc2tTZXJ2aWNlUXVldWVzUmVxdWVzdCIrChlUYXNrU2VydmljZVF1ZXVlc1Jlc3BvbnNlEg4KBnF1ZXVlcxgBIAMoCSJwChZUYXNrU2VydmljZUxpc3RSZXF1ZXN0EhIKBXF1ZXVlGAEgASgJSACIAQESEgoFY291bnQYAiABKA1IAYgBARIRCgRwYWdlGAMgASgNSAKIAQFCCAoGX3F1ZXVlQggKBl9jb3VudEIHCgVfcGFnZSJHChdUYXNrU2VydmljZUxpc3RSZXNwb25zZRIsCgV0YXNrcxgBIAMoCzIdLm1ldGFsc3RhY2suYWRtaW4udjIuVGFza0luZm8iggQKCFRhc2tJbmZvEgoKAmlkGAEgASgJEg0KBXF1ZXVlGAIgASgJEgwKBHR5cGUYAyABKAkSDwoHcGF5bG9hZBgEIAEoDBItCgVzdGF0ZRgFIAEoDjIeLm1ldGFsc3RhY2suYWRtaW4udjIuVGFza1N0YXRlEhEKCW1heF9yZXRyeRgGIAEoBRIPCgdyZXRyaWVkGAcgASgFEhIKCmxhc3RfZXJyb3IYCCABKAkSMgoObGFzdF9mYWlsZWRfYXQYCSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEioKB3RpbWVvdXQYCiABKAsyGS5nb29nbGUucHJvdG9idWYuRHVyYXRpb24SLAoIZGVhZGxpbmUYCyABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEg0KBWdyb3VwGAwgASgJEjMKD25leHRfcHJvY2Vzc19hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASEwoLaXNfb3JwaGFuZWQYDiABKAgSLAoJcmV0ZW50aW9uGA8gASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uEjAKDGNvbXBsZXRlZF9hdBgQIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDgoGcmVzdWx0GBEgASgMKrYCCglUYXNrU3RhdGUSGgoWVEFTS19TVEFURV9VTlNQRUNJRklFRBAAEiEKEVRBU0tfU1RBVEVfQUNUSVZFEAEaCoKyGQZhY3RpdmUSIwoSVEFTS19TVEFURV9QRU5ESU5HEAIaC4KyGQdwZW5kaW5nEicKFFRBU0tfU1RBVEVfU0NIRURVTEVEEAMaDYKyGQlzY2hlZHVsZWQSHwoQVEFTS19TVEFURV9SRVRSWRAEGgmCshkFcmV0cnkSJQoTVEFTS19TVEFURV9BUkNISVZFRBAFGgyCshkIYXJjaGl2ZWQSJwoUVEFTS19TVEFURV9DT01QTEVURUQQBhoNgrIZCWNvbXBsZXRlZBIrChZUQVNLX1NUQVRFX0FHR1JFR0FUSU5HEAcaD4KyGQthZ2dyZWdhdGluZzLBAwoLVGFza1NlcnZpY2USZgoDR2V0EioubWV0YWxzdGFjay5hZG1pbi52Mi5UYXNrU2VydmljZUdldFJlcXVlc3QaKy5tZXRhbHN0YWNrLmFkbWluLnYyLlRhc2tTZXJ2aWNlR2V0UmVzcG9uc2UiBtLzGAIBAhJuCgZEZWxldGUSLS5tZXRhbHN0YWNrLmFkbWluLnYyLlRhc2tTZXJ2aWNlRGVsZXRlUmVxdWVzdBouLm1ldGFsc3RhY2suYWRtaW4udjIuVGFza1NlcnZpY2VEZWxldGVSZXNwb25zZSIF0vMYAQESbwoGUXVldWVzEi0ubWV0YWxzdGFjay5hZG1pbi52Mi5UYXNrU2VydmljZVF1ZXVlc1JlcXVlc3QaLi5tZXRhbHN0YWNrLmFkbWluLnYyLlRhc2tTZXJ2aWNlUXVldWVzUmVzcG9uc2UiBtLzGAIBAhJpCgRMaXN0EisubWV0YWxzdGFjay5hZG1pbi52Mi5UYXNrU2VydmljZUxpc3RSZXF1ZXN0GiwubWV0YWxzdGFjay5hZG1pbi52Mi5UYXNrU2VydmljZUxpc3RSZXNwb25zZSIG0vMYAgECQs0BChdjb20ubWV0YWxzdGFjay5hZG1pbi52MkIJVGFza1Byb3RvUAFaOWdpdGh1Yi5jb20vbWV0YWwtc3RhY2svYXBpL2dvL21ldGFsc3RhY2svYWRtaW4vdjI7YWRtaW52MqICA01BWKoCE01ldGFsc3RhY2suQWRtaW4uVjLKAhNNZXRhbHN0YWNrXEFkbWluXFYy4gIfTWV0YWxzdGFja1xBZG1pblxWMlxHUEJNZXRhZGF0YeoCFU1ldGFsc3RhY2s6OkFkbWluOjpWMmIGcHJvdG8z", [file_google_protobuf_duration, file_google_protobuf_timestamp, file_metalstack_api_v2_common]);

/**
 * TaskServiceGetRequest is the message to a get task request
 *
 * @generated from message metalstack.admin.v2.TaskServiceGetRequest
 */
export type TaskServiceGetRequest = Message<"metalstack.admin.v2.TaskServiceGetRequest"> & {
  /**
   * TaskId to get
   *
   * @generated from field: string task_id = 1;
   */
  taskId: string;

  /**
   * Queue where this task was scheduled to
   *
   * @generated from field: string queue = 2;
   */
  queue: string;
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceGetRequest.
 * Use `create(TaskServiceGetRequestSchema)` to create a new message.
 */
export const TaskServiceGetRequestSchema: GenMessage<TaskServiceGetRequest> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 0);

/**
 * TaskServiceGetResponse is the response to a task get request
 *
 * @generated from message metalstack.admin.v2.TaskServiceGetResponse
 */
export type TaskServiceGetResponse = Message<"metalstack.admin.v2.TaskServiceGetResponse"> & {
  /**
   * Task contains the task details
   *
   * @generated from field: metalstack.admin.v2.TaskInfo task = 1;
   */
  task?: TaskInfo;
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceGetResponse.
 * Use `create(TaskServiceGetResponseSchema)` to create a new message.
 */
export const TaskServiceGetResponseSchema: GenMessage<TaskServiceGetResponse> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 1);

/**
 * TaskServiceDeleteRequest is the message to a delete task request
 *
 * @generated from message metalstack.admin.v2.TaskServiceDeleteRequest
 */
export type TaskServiceDeleteRequest = Message<"metalstack.admin.v2.TaskServiceDeleteRequest"> & {
  /**
   * TaskId to cancel
   *
   * @generated from field: string task_id = 1;
   */
  taskId: string;

  /**
   * Queue where this task was scheduled to
   *
   * @generated from field: string queue = 2;
   */
  queue: string;
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceDeleteRequest.
 * Use `create(TaskServiceDeleteRequestSchema)` to create a new message.
 */
export const TaskServiceDeleteRequestSchema: GenMessage<TaskServiceDeleteRequest> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 2);

/**
 * TaskServiceDeleteResponse is the response to a task delete request
 *
 * @generated from message metalstack.admin.v2.TaskServiceDeleteResponse
 */
export type TaskServiceDeleteResponse = Message<"metalstack.admin.v2.TaskServiceDeleteResponse"> & {
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceDeleteResponse.
 * Use `create(TaskServiceDeleteResponseSchema)` to create a new message.
 */
export const TaskServiceDeleteResponseSchema: GenMessage<TaskServiceDeleteResponse> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 3);

/**
 * TaskServiceQueuesRequest is the message to get all queues
 *
 * @generated from message metalstack.admin.v2.TaskServiceQueuesRequest
 */
export type TaskServiceQueuesRequest = Message<"metalstack.admin.v2.TaskServiceQueuesRequest"> & {
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceQueuesRequest.
 * Use `create(TaskServiceQueuesRequestSchema)` to create a new message.
 */
export const TaskServiceQueuesRequestSchema: GenMessage<TaskServiceQueuesRequest> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 4);

/**
 * TaskServiceQueuesResponse is the response to a queues request
 *
 * @generated from message metalstack.admin.v2.TaskServiceQueuesResponse
 */
export type TaskServiceQueuesResponse = Message<"metalstack.admin.v2.TaskServiceQueuesResponse"> & {
  /**
   * Queues configured for the async system
   *
   * @generated from field: repeated string queues = 1;
   */
  queues: string[];
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceQueuesResponse.
 * Use `create(TaskServiceQueuesResponseSchema)` to create a new message.
 */
export const TaskServiceQueuesResponseSchema: GenMessage<TaskServiceQueuesResponse> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 5);

/**
 * TaskServiceListRequest is the message to a task list request
 *
 * @generated from message metalstack.admin.v2.TaskServiceListRequest
 */
export type TaskServiceListRequest = Message<"metalstack.admin.v2.TaskServiceListRequest"> & {
  /**
   * Queue where this tasks should be listed
   * will return tasks from all queues if not specified
   *
   * @generated from field: optional string queue = 1;
   */
  queue?: string;

  /**
   * Count of tasks to return
   *
   * @generated from field: optional uint32 count = 2;
   */
  count?: number;

  /**
   * Page of tasks to return
   *
   * @generated from field: optional uint32 page = 3;
   */
  page?: number;
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceListRequest.
 * Use `create(TaskServiceListRequestSchema)` to create a new message.
 */
export const TaskServiceListRequestSchema: GenMessage<TaskServiceListRequest> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 6);

/**
 * TaskServiceListResponse is the response to a task list request
 *
 * @generated from message metalstack.admin.v2.TaskServiceListResponse
 */
export type TaskServiceListResponse = Message<"metalstack.admin.v2.TaskServiceListResponse"> & {
  /**
   * Tasks contains the requested list of tasks
   *
   * @generated from field: repeated metalstack.admin.v2.TaskInfo tasks = 1;
   */
  tasks: TaskInfo[];
};

/**
 * Describes the message metalstack.admin.v2.TaskServiceListResponse.
 * Use `create(TaskServiceListResponseSchema)` to create a new message.
 */
export const TaskServiceListResponseSchema: GenMessage<TaskServiceListResponse> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 7);

/**
 * TaskInfo contains details of an async task
 *
 * @generated from message metalstack.admin.v2.TaskInfo
 */
export type TaskInfo = Message<"metalstack.admin.v2.TaskInfo"> & {
  /**
   * ID is the identifier of the task.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Queue is the name of the queue in which the task belongs.
   *
   * @generated from field: string queue = 2;
   */
  queue: string;

  /**
   * Type is the type name of the task.
   *
   * @generated from field: string type = 3;
   */
  type: string;

  /**
   * Payload is the payload data of the task.
   *
   * @generated from field: bytes payload = 4;
   */
  payload: Uint8Array;

  /**
   * State indicates the task state.
   *
   * @generated from field: metalstack.admin.v2.TaskState state = 5;
   */
  state: TaskState;

  /**
   * MaxRetry is the maximum number of times the task can be retried.
   *
   * @generated from field: int32 max_retry = 6;
   */
  maxRetry: number;

  /**
   * Retried is the number of times the task has retried so far.
   *
   * @generated from field: int32 retried = 7;
   */
  retried: number;

  /**
   * LastError is the error message from the last failure.
   *
   * @generated from field: string last_error = 8;
   */
  lastError: string;

  /**
   * LastFailedAt is the time time of the last failure if any.
   * If the task has no failures, LastFailedAt is zero time (i.e. time.Time{}).
   *
   * @generated from field: google.protobuf.Timestamp last_failed_at = 9;
   */
  lastFailedAt?: Timestamp;

  /**
   * Timeout is the duration the task can be processed by Handler before being retried,
   *
   * @generated from field: google.protobuf.Duration timeout = 10;
   */
  timeout?: Duration;

  /**
   * Deadline is the deadline for the task.
   *
   * @generated from field: google.protobuf.Timestamp deadline = 11;
   */
  deadline?: Timestamp;

  /**
   * Group is the name of the group in which the task belongs.
   *
   * Tasks in the same queue can be grouped together by Group name and will be aggregated into one task
   * by a Server processing the queue.
   *
   * Empty string (default) indicates task does not belong to any groups, and no aggregation will be applied to the task.
   *
   * @generated from field: string group = 12;
   */
  group: string;

  /**
   * NextProcessAt is the time the task is scheduled to be processed,
   * zero if not applicable.
   *
   * @generated from field: google.protobuf.Timestamp next_process_at = 13;
   */
  nextProcessAt?: Timestamp;

  /**
   * IsOrphaned describes whether the task is left in active state with no worker processing it.
   * An orphaned task indicates that the worker has crashed or experienced network failures and was not able to
   * extend its lease on the task.
   *
   * This task will be recovered by running a server against the queue the task is in.
   * This field is only applicable to tasks with TaskStateActive.
   *
   * @generated from field: bool is_orphaned = 14;
   */
  isOrphaned: boolean;

  /**
   * Retention is duration of the retention period after the task is successfully processed.
   *
   * @generated from field: google.protobuf.Duration retention = 15;
   */
  retention?: Duration;

  /**
   * CompletedAt is the time when the task is processed successfully.
   * Zero value (i.e. time.Time{}) indicates no value.
   *
   * @generated from field: google.protobuf.Timestamp completed_at = 16;
   */
  completedAt?: Timestamp;

  /**
   * Result holds the result data associated with the task.
   * Use ResultWriter to write result data from the Handler.
   *
   * @generated from field: bytes result = 17;
   */
  result: Uint8Array;
};

/**
 * Describes the message metalstack.admin.v2.TaskInfo.
 * Use `create(TaskInfoSchema)` to create a new message.
 */
export const TaskInfoSchema: GenMessage<TaskInfo> = /*@__PURE__*/
  messageDesc(file_metalstack_admin_v2_task, 8);

/**
 * TaskState defines the state of the task
 *
 * @generated from enum metalstack.admin.v2.TaskState
 */
export enum TaskState {
  /**
   * TASK_STATE_UNSPECIFIED indicates a undefined state
   *
   * @generated from enum value: TASK_STATE_UNSPECIFIED = 0;
   */
  UNSPECIFIED = 0,

  /**
   * TASK_STATE_ACTIVE indicates that the task is currently being processed by Handler.
   *
   * @generated from enum value: TASK_STATE_ACTIVE = 1;
   */
  ACTIVE = 1,

  /**
   * TASK_STATE_PENDING indicates that the task is ready to be processed by Handler.
   *
   * @generated from enum value: TASK_STATE_PENDING = 2;
   */
  PENDING = 2,

  /**
   * TASK_STATE_SCHEDULED indicates that the task is scheduled to be processed some time in the future.
   *
   * @generated from enum value: TASK_STATE_SCHEDULED = 3;
   */
  SCHEDULED = 3,

  /**
   * TASK_STATE_RETRY indicates that the task has previously failed and scheduled to be processed some time in the future.
   *
   * @generated from enum value: TASK_STATE_RETRY = 4;
   */
  RETRY = 4,

  /**
   * TASK_STATE_ARCHIVED indicates that the task is archived and stored for inspection purposes.
   *
   * @generated from enum value: TASK_STATE_ARCHIVED = 5;
   */
  ARCHIVED = 5,

  /**
   * TASK_STATE_COMPLETED indicates that the task is processed successfully and retained until the retention TTL expires.
   *
   * @generated from enum value: TASK_STATE_COMPLETED = 6;
   */
  COMPLETED = 6,

  /**
   * TASK_STATE_AGGREGATING indicates that the task is waiting in a group to be aggregated into one task.
   *
   * @generated from enum value: TASK_STATE_AGGREGATING = 7;
   */
  AGGREGATING = 7,
}

/**
 * Describes the enum metalstack.admin.v2.TaskState.
 */
export const TaskStateSchema: GenEnum<TaskState> = /*@__PURE__*/
  enumDesc(file_metalstack_admin_v2_task, 0);

/**
 * TaskService provides services to async tasks
 *
 * @generated from service metalstack.admin.v2.TaskService
 */
export const TaskService: GenService<{
  /**
   * Get a specific task
   *
   * @generated from rpc metalstack.admin.v2.TaskService.Get
   */
  get: {
    methodKind: "unary";
    input: typeof TaskServiceGetRequestSchema;
    output: typeof TaskServiceGetResponseSchema;
  },
  /**
   * Delete a specific task
   *
   * @generated from rpc metalstack.admin.v2.TaskService.Delete
   */
  delete: {
    methodKind: "unary";
    input: typeof TaskServiceDeleteRequestSchema;
    output: typeof TaskServiceDeleteResponseSchema;
  },
  /**
   * Queues returns all configures queues
   *
   * @generated from rpc metalstack.admin.v2.TaskService.Queues
   */
  queues: {
    methodKind: "unary";
    input: typeof TaskServiceQueuesRequestSchema;
    output: typeof TaskServiceQueuesResponseSchema;
  },
  /**
   * List list all tasks
   *
   * @generated from rpc metalstack.admin.v2.TaskService.List
   */
  list: {
    methodKind: "unary";
    input: typeof TaskServiceListRequestSchema;
    output: typeof TaskServiceListResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_metalstack_admin_v2_task, 0);

